# XHS Content Matrix - 小红书内容矩阵生成器

> 基于20年小红书爆款研究，专业去除AI感的真实文案生成工具

## 🚀 **项目特性**

### 🎯 **核心功能**
- ✅ **智能AI文案生成** - 基于DeepSeek-v3.1深度定制的教育产品文案生成
- ✅ **真实度优化系统** - 三阶段优化，有效去除AI感，提升文案自然度
- ✅ **多维度参数控制** - 情感温度、真实度、兴奋度精准调节
- ✅ **实时反馈评分** - 5星真实度评分系统，持续优化文案质量

### 🎨 **用户体验**
- ✅ **双主题支持** - 暗黑模式和浅色模式无缝切换
- ✅ **现代化UI** - 符合PRD规范的视觉设计
- ✅ **响应式设计** - 适配各种设备尺寸
- ✅ **一键复制** - 支持标题和正文的一键复制

### 🧠 **AI智能优化**
- ✅ **口语化表达库** - 基于真实用户语言习惯的填充词系统
- ✅ **五感细节植入** - 强制包含感官描述，增强代入感
- ✅ **时间场景锚点** - 具体时间和场景描述，提升可信度
- ✅ **反套路缺点表达** - 适度暴露产品局限性，增加真实感
- ✅ **真实示例学习** - 基于小红书爆款文案的表达风格优化

## 🛠 **技术栈**

### 前端 (Vue 3)
- **框架**: Vue.js 3 + Composition API
- **构建工具**: Vite
- **样式**: Tailwind CSS
- **HTTP客户端**: Axios

### 后端 (Node.js)
- **框架**: Express.js
- **模块规范**: ES Module
- **数据存储**: 本地JSON文件 + 历史记录管理
- **AI集成**: DeepSeek-v3.1 (阿里云百炼)
- **优化系统**: 多层提示词优化 + 参数调优
- **反馈系统**: 真实度评分收集与分析

## 🚀 **快速开始**

### 1. 安装依赖

```bash
# 安装前端依赖
cd frontend
npm install

# 安装后端依赖  
cd ../backend
npm install
```

### 2. 启动开发服务器

```bash
# 启动后端服务 (端口: 3002)
cd backend
npm run dev

# 启动前端服务 (端口: 5173) 
cd frontend  
npm run dev
```

### 3. 访问应用

- **前端地址**: http://localhost:5173
- **后端API**: http://localhost:3002

## 🎯 **使用指南**

### 基础功能
1. **选择产品** - 从下拉列表选择要推广的产品（支持托福、PPT、心理测评等教育产品）
2. **选择角度** - 选择文案风格（真实体验、学习分享、效果展示等）
3. **添加关键词** - 可选择性添加关键词增强文案效果
4. **调节高级参数** - 控制情感温度、真实度、兴奋度等维度
5. **生成文案** - 点击生成按钮获得AI优化的真实文案
6. **评分反馈** - 对生成文案进行1-5星真实度评分
7. **复制使用** - 一键复制生成的标题和正文

### 🎛️ 高级参数说明
- **情感温度** (1-10): 控制文案的热情程度，越高越热情洋溢
- **真实度** (1-10): 控制表达的自然度，≥7时会包含轻微缺点表达
- **兴奋度** (1-10): 控制语气的激动程度，影响标点和用词
- **个性类型**: 不同的表达风格（社交型、谨慎型、分析型等）

### 📊 真实度评分系统
- **5星评分**: 对生成的文案进行真实度评价
- **实时反馈**: 评分数据自动保存，用于持续优化
- **历史记录**: 自动保存生成历史和对应评分

## ⚙️ **配置说明**

### AI功能配置 (DeepSeek-v3.1)

项目已预配置阿里云百炼DeepSeek-v3.1模型：

```env
# AI API 配置 - 阿里云百炼 DeepSeek-v3.1
AI_API_KEY=sk-bb800a93f0fa4ebbb306a4c87f2de724
AI_OPENAI_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
AI_MODEL=deepseek-v3.1

# 服务端口
PORT=3002
```

**配置步骤**:
1. 复制 `backend/.env.example` 为 `backend/.env`
2. 确认API Key配置正确
3. 重启后端服务

### 数据文件说明

- `backend/data/products.json` - 产品数据配置（托福、PPT、心理测评等）
- `backend/data/enhanced-prompt-rules.json` - 增强提示词规则和口语化表达库
- `backend/data/example-library.json` - 小红书爆款文案真实示例库
- `backend/data/history/` - 生成历史和评分反馈数据（自动创建）
- `backend/data/templates.json` - 基础文案模板配置

## 🎨 **主题切换**

应用支持暗黑模式和浅色模式：

- **浅色模式** (默认): 白灰配色 + 沉稳深绿
- **暗黑模式**: 黑灰配色 + 活力绿
- **切换方式**: 点击右上角的太阳/月亮图标

## 🧠 **AI优化系统详解**

### 三阶段去除AI感优化

基于20年小红书爆款文案研究，我们设计了三阶段优化系统：

#### 🎯 **第一阶段：基础自然化**
- **口语化填充词**: "说真的"、"老实讲"、"怎么说呢"等真实表达
- **AI参数调优**: temperature=0.85, top_p=0.7, frequency_penalty=0.3
- **段落结构放宽**: 允许2-4句不规律段落，更符合真实分享

#### 🎯 **第二阶段：细节真实化**  
- **五感细节植入**: 强制包含视觉、触觉、情感等感官描述
- **时间场景锚点**: "昨晚熬夜准备考试时"、"备考期间"等具体时间
- **反套路缺点表达**: vulnerability≥7时包含轻微缺点，增加可信度

#### 🎯 **第三阶段：系统完善**
- **真实示例学习**: 基于小红书爆款文案的表达风格优化
- **5星评分反馈**: 实时收集用户对文案真实度的评价
- **历史记录管理**: 自动保存生成参数和结果，持续优化

### 💡 优化效果对比

**优化前**（AI感明显）:
> 这款托福资料非常优秀，包含了全面的学习内容，能够有效提升成绩。

**优化后**（真实自然）:
> 说真的，备考托福这半年我真的被各种资料绕糊涂了😵 后来学姐推荐了这套真题，老实讲刚开始我还有点怀疑...

## 📱 **响应式支持**

- **移动端**: 垂直堆叠布局，优化触摸交互
- **桌面端**: 双栏固定布局，提升操作效率

## 🐛 **故障排除**

### 常见问题

1. **生成按钮无响应**
   - 检查后端服务是否启动 (localhost:3002)
   - 确认产品和角度都已选择
   - 查看浏览器控制台是否有错误信息

2. **AI文案生成失败**
   - 检查环境变量 `AI_API_KEY` 是否配置
   - 确认网络连接正常
   - 验证DeepSeek API配额是否足够

3. **评分功能无响应**
   - 确认文案已成功生成（包含historyId）
   - 检查后端评分API是否正常响应

4. **样式显示异常**
   - 清除浏览器缓存
   - 确保Tailwind CSS正确加载
   - 检查主题切换是否正常

### 日志查看

- 前端日志: 打开浏览器开发者工具查看Console
- 后端日志: 查看终端输出

## 🔄 **开发命令**

```bash
# 前端开发
cd frontend ; npm run dev
npm run dev          # 启动开发服务器
npm run build        # 构建生产版本
npm run preview      # 预览构建结果

# 后端开发
cd backend ; npm run dev
npm run dev          # 启动开发服务器
npm start           # 生产环境启动
```

## 📝 **更新日志**

### v2.0 (当前版本) - AI真实度优化版本
🎉 **重大更新**: 基于小红书爆款研究的三阶段AI优化系统

#### 🚀 **核心功能升级**
- ✅ **AI真实度优化系统**: 三阶段优化，有效去除AI感
- ✅ **多维参数控制**: 情感温度、真实度、兴奋度精准调节
- ✅ **5星评分系统**: 实时反馈文案真实度，持续优化
- ✅ **历史记录管理**: 自动保存生成历史和评分数据
- ✅ **口语化表达库**: 基于真实用户语言习惯的自然表达
- ✅ **示例学习系统**: 参考小红书爆款文案的表达风格

#### 🎯 **AI技术优化**
- ✅ **提示词深度优化**: 针对教育产品的专业提示词系统
- ✅ **参数精调**: temperature=0.85, 提升自然度和随机性
- ✅ **五感细节植入**: 强制包含感官描述，增强代入感
- ✅ **时间场景锚点**: 具体时间和场景描述，提升可信度
- ✅ **反套路表达**: 适度暴露缺点，增加真实感

#### 🔧 **系统改进**
- ✅ **反馈闭环建立**: 评分API + 数据收集分析
- ✅ **产品库扩展**: 专注教育类产品（托福、PPT、心理测评等）
- ✅ **UI优化**: 新增评分界面，改进交互体验

### v1.1 
- ✅ 修复了Vue前端UI与Demo不匹配的问题
- ✅ 修复了生成按钮无响应的问题
- ✅ 完善了AI功能集成
- ✅ 优化了主题切换系统
- ✅ 改进了响应式设计
- ✅ 增强了错误处理机制

---

**技术支持**: 如遇问题请查看控制台日志或联系开发者  
**专业服务**: 基于20年小红书爆款研究，专业去除AI感的真实文案生成
